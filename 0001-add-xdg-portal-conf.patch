From 44cdb61c245b2f184a4cad1ed7b3c1c288be0dd2 Mon Sep 17 00:00:00 2001
From: Leigh Scott <leigh123linux@gmail.com>
Date: Sat, 16 Sep 2023 14:03:18 +0100
Subject: [PATCH] add xdg-portal conf

---
 data/meson.build                        | 1 +
 data/xdg-portal/meson.build             | 4 ++++
 data/xdg-portal/x-cinnamon-portals.conf | 3 +++
 3 files changed, 8 insertions(+)
 create mode 100644 data/xdg-portal/meson.build
 create mode 100644 data/xdg-portal/x-cinnamon-portals.conf

diff --git a/data/meson.build b/data/meson.build
index b67ff1f38..506190063 100644
--- a/data/meson.build
+++ b/data/meson.build
@@ -40,6 +40,7 @@
 endforeach
 
 subdir('wayland_sessions')
+subdir('xdg-portal')
 subdir('xsessions')
 subdir('services')
 

diff --git a/data/xdg-portal/meson.build b/data/xdg-portal/meson.build
new file mode 100644
index 000000000..75ccf078b
--- /dev/null
+++ b/data/xdg-portal/meson.build
@@ -0,0 +1,4 @@
+install_data(
+  'x-cinnamon-portals.conf',
+  install_dir: join_paths(get_option('datadir'), 'xdg-desktop-portal'),
+)
diff --git a/data/xdg-portal/x-cinnamon-portals.conf b/data/xdg-portal/x-cinnamon-portals.conf
new file mode 100644
index 000000000..d8f5c6118
--- /dev/null
+++ b/data/xdg-portal/x-cinnamon-portals.conf
@@ -0,0 +1,3 @@
+[preferred]
+default=xapp;gtk;
+
-- 
2.41.0

